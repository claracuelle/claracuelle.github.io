---
import Copy from '../components/Copy.astro';
import Icon from '../components/Icon.astro';
import Toggle from '../components/Toggle.astro';
import Link from '../components/Link.astro';
---

<header
id="header"
  class="sticky top-0 left-0 w-full h-auto z-50 flex justify-between items-center p-6 lg:py-3 lg:px-16 [&.is-active]:border-b-0 border-b border-expo-primary bg-white/40 backdrop-blur-xl"
>
  <div class="relative z-20 flex justify-between items-center w-full lg:w-auto">
    <Toggle classValue='is-active flex justify-center items-center w-max justify-self-end lg:hidden [header.is-active_&>.menu]:hidden [header.is-active_&>.close]:block' targets='#header'>
      <Icon class="w-4 object-contain" icon="menu" />
      <Icon
        class="w-4 object-contain hidden"
        icon="close"
      />
    </Toggle>
    <a class="flex justify-center items-center w-max" href="/portfolio">
      <Icon class="w-8 h-8" icon="logo" />
    </a>
    <Copy
      class="flex justify-center items-center w-8 h-8 bg-expo-primary lg:hidden [&.is-active>.mail]:hidden [&.is-active>.check]:block"
    >
      <Icon class="w-4 object-contain text-expo-primary-disabled" icon="mail" />
      <Icon
        class="w-4 object-contain hidden text-expo-primary-disabled"
        icon="check"
      />
    </Copy>
  </div>
  <nav
    class="opacity-0 transition-all duration-300 ease-in-out -translate-x-full fixed z-10 top-0 left-0 right-0 h-[100dvh] py-20 px-6 lg:p-0 bg-white [header.is-active_&]:translate-x-0 [header.is-active_&]:opacity-100 lg:bg-transparent  lg:translate-x-0 lg:relative lg:top-auto lg:left-auto lg:right-auto lg:h-auto lg:transition-none lg:opacity-100"
  >
    <p class="lg:hidden w-full text-center text-lg uppercase font-migra text-expo-primary">Il est temps de créer ensemble</p>
    <ul
      class="flex flex-col lg:flex-row justify-center items-end lg:items-center h-full gap-6 lg:gap-16"
    >
      <li>
        <a
          class={`[&.is-active]:text-expo-primary hover:text-expo-primary [&.is-active]:font-bold hover:font-bold ${Astro.url.pathname.includes('/about') ? 'is-active' : ''}`}
          href="/portfolio/about">À propos</a
        >
      </li>
      <li>
        <a
          class={`[&.is-active]:text-expo-primary hover:text-expo-primary [&.is-active]:font-bold hover:font-bold ${Astro.url.pathname.includes('/projects') ? 'is-active' : ''}`}
          href="/portfolio/projects/1">Mes réalisations</a
        >
      </li>
      <li>
        <Copy
          class="flex justify-center items-center gap-2 [&.is-active_.copy]:hidden [&.is-active_.check]:block"
        >
          <Icon class="copy w-8 h-5 object-contain" icon="copy" />
          <Icon class="check w-4 h-4 object-contain hidden" icon="check" />
          <span class="copy">clara.cuelle@gmail.com</span>
          <span class="check hidden">copié</span>
        </Copy>
      </li>
    </ul>
    <div class="flex justify-evenly items-center lg:hidden  ">
      <Link href={'https://www.linkedin.com/in/clara-cuelle-3a466b122/'} title={'LinkedIn'}/>
      <Link href={'https://www.instagram.com/claracuelle/'} title={'Instagram'}/>
    </div>

  </nav>
</header>
